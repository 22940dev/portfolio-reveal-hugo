{{ define "main" }}
  <div class="reveal">
    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
      <!-- Find all pages with a type of reveal -->
      {{ range union (slice .Page) (where .Data.Pages "Type" "home") }}
        <!-- Don't process empty content files -->
        {{ if ne (len .Content) 0 }}
          <!-- Split the processed content by <hr /> tag -->
          {{ range (split .Content "<hr />") }}
            <!-- Output the content as safe  -->
            <section>{{ . | safeHTML }}</section>
          {{ end }}
        {{ end }}
      {{ end }}
    </div>
  </div>
{{ end }}
